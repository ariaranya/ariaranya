<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Creative Coding - AT3 | Aria&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="ConceptMy inspration comes from Decidophobia, which is occasionally used to describe the situation when someone hesitates or struggles to make decisions. It’s not an officially recognized phobia in th">
<meta property="og:type" content="article">
<meta property="og:title" content="Creative Coding - AT3">
<meta property="og:url" content="https://ariaranya.github.io/05.html">
<meta property="og:site_name" content="Aria&#39;s Blog">
<meta property="og:description" content="ConceptMy inspration comes from Decidophobia, which is occasionally used to describe the situation when someone hesitates or struggles to make decisions. It’s not an officially recognized phobia in th">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-06-05T01:09:09.000Z">
<meta property="article:modified_time" content="2023-06-09T18:22:50.077Z">
<meta property="article:author" content="Aria">
<meta property="article:tag" content="AT3">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Aria's Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Aria&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">my works for Creative Coding</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://ariaranya.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-05" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/05.html" class="article-date">
  <time class="dt-published" datetime="2023-06-05T01:09:09.000Z" itemprop="datePublished">2023-06-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Creative Coding - AT3
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Concept"><a href="#Concept" class="headerlink" title="Concept"></a>Concept</h2><p>My inspration comes from Decidophobia, which is occasionally used to describe the situation when someone hesitates or struggles to make decisions. It’s not an officially recognized phobia in the Diagnostic manual. People sometimes use this term in a self-deprecating way. The hesitation and uncertainty about what to do often occur when my roommate and I are cooking. If there are only one or two options, we can decide quickly, but when there are more choices, we start to get caught up in indecision. When faced with decisions, it’s common for someone to yearn for another person who can assist them in making choices. However, when both individuals suffer from “decidophobia,” it becomes even more challenging to come to a decision. As a result, my roommate and I often find ourselves spending a considerable amount of time deliberating on what to cook for dinner, which show to watch while dining, or even who should handle the post-meal cleanup. This indecisiveness sometimes leads to unnecessary delays.<br>Interestingly, I stumbled upon a fascinating technique - flipping a coin. Not only does it provide a means to make a decision, but it also reveals the hidden preference we secretly hope for as the coin is tossed, thus influencing our ultimate choice. Inspired by this revelation, I decided to create a decision-making tool for my roommate and me using P5.js. In this interactive project, my roommate acts as my community of practice, our home serves as the domain, and the primary objective is to assist us in making choices. Following a tutorial by Coding Train, I engaged in coding exercises and developed a captivating slot machine. As the machine spins, various dinner options appear randomly, injecting an element of excitement and amusement into the decision-making process. Moving forward, I’m eager to showcase the interactivity and functionality of this unique creation.</p>
<iframe width="800" height="842"  src="https://editor.p5js.org/ariaranya/full/G0cXs6jAL"></iframe>







<h2 id="Code-and-Comments"><a href="#Code-and-Comments" class="headerlink" title="Code and Comments"></a>Code and Comments</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> machine;</span><br><span class="line"><span class="keyword">let</span> img;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">preload</span>(<span class="params"></span>)&#123;</span><br><span class="line">  img = <span class="title function_">loadImage</span>(<span class="string">&quot;vvv.png&quot;</span>); <span class="comment">// Preload the image &quot;vvv.png&quot; before setup()</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">createCanvas</span>(<span class="number">800</span>, <span class="number">800</span>); <span class="comment">// Create a canvas with a size of 800x800 pixels</span></span><br><span class="line">  <span class="title function_">imageMode</span>(<span class="variable constant_">CENTER</span>); <span class="comment">// Set the image mode to center</span></span><br><span class="line">  machine = <span class="keyword">new</span> <span class="title class_">Machine</span>(); <span class="comment">// Create a new instance of the Machine class</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">draw</span>(<span class="params"></span>) &#123;</span><br><span class="line">  machine.<span class="title function_">update</span>(); <span class="comment">// Call the update() method of the machine object</span></span><br><span class="line">  </span><br><span class="line">  <span class="title function_">push</span>(); <span class="comment">// Save the current drawing state</span></span><br><span class="line">  </span><br><span class="line">  <span class="title function_">noStroke</span>(); <span class="comment">// Disable stroke (outline) for subsequent shapes</span></span><br><span class="line">  </span><br><span class="line">  <span class="title function_">fill</span>(<span class="number">255</span>); <span class="comment">// Set the fill color to white (RGB 255, 255, 255)</span></span><br><span class="line">  </span><br><span class="line">  <span class="title function_">rect</span>(<span class="number">0</span>, <span class="number">0</span>, width, <span class="number">170</span>); <span class="comment">// Draw a rectangle at the top of the canvas</span></span><br><span class="line">  </span><br><span class="line">  <span class="title function_">rect</span>(<span class="number">0</span>, <span class="number">320</span>, width, <span class="number">400</span>); <span class="comment">// Draw a rectangle in the middle of the canvas</span></span><br><span class="line">  </span><br><span class="line">  <span class="title function_">pop</span>(); <span class="comment">// Restore the previously saved drawing state</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Display the image at the center of the canvas</span></span><br><span class="line">  <span class="title function_">image</span>(img, width/<span class="number">2</span>, height/<span class="number">2</span>, <span class="number">540</span>, <span class="number">800</span>); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mousePressed</span>(<span class="params"></span>) &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Output the current state of the machine object to the console</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(machine.<span class="property">state</span>); </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Check if the machine is in the &#x27;stopped&#x27; state</span></span><br><span class="line">  <span class="keyword">if</span> (machine.<span class="property">state</span> === <span class="string">&#x27;stopped&#x27;</span>) &#123; </span><br><span class="line">    </span><br><span class="line">    machine = <span class="keyword">new</span> <span class="title class_">Machine</span>(); <span class="comment">// Create a new instance of the Machine class</span></span><br><span class="line">    </span><br><span class="line">    machine.<span class="title function_">spin</span>(); <span class="comment">// Call the spin() method of the machine object</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">     <span class="comment">// Reload the page if the machine is not in the &#x27;stopped&#x27; state</span></span><br><span class="line">    location.<span class="title function_">reload</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ........................................................Reel.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Reel</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">machine, x, y, index</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">machine</span> = machine;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">reelIndex</span> = index;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">reel</span> = [...<span class="variable language_">this</span>.<span class="property">machine</span>.<span class="property">symbols</span>.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>) =&gt;</span> <span class="title function_">random</span>() &lt; <span class="number">0.5</span> ? -<span class="number">1</span> : <span class="number">1</span>)];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">index</span> = <span class="title function_">floor</span>(<span class="variable language_">this</span>.<span class="property">machine</span>.<span class="property">symbols</span>.<span class="property">length</span>/<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">offset</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">speed</span> = <span class="variable language_">this</span>.<span class="title function_">randomReelSpeed</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">deceleration</span> = <span class="title function_">random</span>(<span class="variable language_">this</span>.<span class="property">machine</span>.<span class="property">deceleration</span>.<span class="property">min</span>, <span class="variable language_">this</span>.<span class="property">machine</span>.<span class="property">deceleration</span>.<span class="property">max</span>),</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ay</span> = <span class="title function_">random</span>(<span class="variable language_">this</span>.<span class="property">machine</span>.<span class="property">deceleration</span>.<span class="property">min</span>, <span class="variable language_">this</span>.<span class="property">machine</span>.<span class="property">deceleration</span>.<span class="property">max</span>),</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">`stopped`</span>; <span class="comment">// spinning, slowing</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">target</span> = <span class="string">&quot;🫒&quot;</span>; <span class="comment">// random(symbols)</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">randomReelSpeed</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">random</span>(<span class="variable language_">this</span>.<span class="property">machine</span>.<span class="property">startSpeed</span>.<span class="property">min</span>,<span class="variable language_">this</span>.<span class="property">machine</span>.<span class="property">startSpeed</span>.<span class="property">max</span>) - <span class="variable language_">this</span>.<span class="property">reelIndex</span> * -<span class="number">5</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">stop</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ay</span> = <span class="variable language_">this</span>.<span class="property">deceleration</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">move</span>(<span class="params"></span>) &#123;  </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">speed</span> += <span class="variable language_">this</span>.<span class="property">ay</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">abs</span>(<span class="variable language_">this</span>.<span class="property">speed</span>) &lt; <span class="number">5</span> &amp;&amp; <span class="title function_">abs</span>(<span class="variable language_">this</span>.<span class="property">offset</span>) &lt; machine.<span class="property">spacing</span>/<span class="number">8</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">speed</span> = <span class="number">0</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">ay</span> = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">offset</span> += <span class="variable language_">this</span>.<span class="property">speed</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">offset</span> &gt;= machine.<span class="property">spacing</span> / <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">index</span> = <span class="variable language_">this</span>.<span class="property">index</span> &gt; <span class="number">0</span> ? <span class="variable language_">this</span>.<span class="property">index</span> - <span class="number">1</span> : <span class="variable language_">this</span>.<span class="property">reel</span>.<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">offset</span> = -machine.<span class="property">spacing</span> / <span class="number">2</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">display</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// Display the central (selected) symbol</span></span><br><span class="line">    <span class="keyword">let</span> x = <span class="variable language_">this</span>.<span class="property">x</span>;</span><br><span class="line">    <span class="keyword">let</span> y = <span class="variable language_">this</span>.<span class="property">y</span> + <span class="variable language_">this</span>.<span class="property">offset</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">displaySymbol</span>(<span class="variable language_">this</span>.<span class="property">reel</span>[<span class="variable language_">this</span>.<span class="property">index</span>], x, y, <span class="variable language_">this</span>.<span class="property">index</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Display reel below selected symbol</span></span><br><span class="line">    y = <span class="variable language_">this</span>.<span class="property">y</span> + <span class="variable language_">this</span>.<span class="property">offset</span> + machine.<span class="property">spacing</span>;</span><br><span class="line">    <span class="keyword">let</span> index = <span class="variable language_">this</span>.<span class="property">index</span>;</span><br><span class="line">    <span class="keyword">while</span> (y &lt; height + machine.<span class="property">symbolSize</span>/<span class="number">2</span>) &#123;</span><br><span class="line">      index = (index &lt; <span class="variable language_">this</span>.<span class="property">reel</span>.<span class="property">length</span> - <span class="number">1</span>) ? index + <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">displaySymbol</span>(<span class="variable language_">this</span>.<span class="property">reel</span>[index], x, y, index);</span><br><span class="line">      y += machine.<span class="property">spacing</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Display reel above the selected symbol</span></span><br><span class="line">    y = <span class="variable language_">this</span>.<span class="property">y</span> + <span class="variable language_">this</span>.<span class="property">offset</span> - machine.<span class="property">spacing</span>;</span><br><span class="line">    index = <span class="variable language_">this</span>.<span class="property">index</span>;</span><br><span class="line">    <span class="keyword">while</span> (y &gt; <span class="number">0</span> - machine.<span class="property">symbolSize</span>/<span class="number">2</span>) &#123;</span><br><span class="line">      index = (index &gt; <span class="number">0</span>) ? index - <span class="number">1</span> : <span class="variable language_">this</span>.<span class="property">reel</span>.<span class="property">length</span> - <span class="number">1</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">displaySymbol</span>(<span class="variable language_">this</span>.<span class="property">reel</span>[index], x, y, index);</span><br><span class="line">      y -= machine.<span class="property">spacing</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">displaySymbol</span>(<span class="params">symbol, x, y, index</span>) &#123;</span><br><span class="line">    <span class="title function_">push</span>();</span><br><span class="line">    <span class="title function_">textSize</span>(machine.<span class="property">symbolSize</span>);</span><br><span class="line">    <span class="title function_">textAlign</span>(<span class="variable constant_">CENTER</span>, <span class="variable constant_">CENTER</span>);</span><br><span class="line">    <span class="title function_">text</span>(symbol, x, y);</span><br><span class="line">    <span class="title function_">pop</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">copy</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// Make a proper object that will be our copy</span></span><br><span class="line">    <span class="keyword">let</span> copy = <span class="keyword">new</span> <span class="title class_">Reel</span>(<span class="variable language_">this</span>.<span class="property">machine</span>, <span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>, <span class="variable language_">this</span>.<span class="property">reelIndex</span>);</span><br><span class="line">    <span class="comment">// Copy all properties over</span></span><br><span class="line">    <span class="keyword">let</span> keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(<span class="variable language_">this</span>);</span><br><span class="line">    keys.<span class="title function_">forEach</span>(<span class="function"><span class="params">key</span> =&gt;</span> copy[key] = <span class="variable language_">this</span>[key]);</span><br><span class="line">    <span class="comment">// Return that copy</span></span><br><span class="line">    <span class="keyword">return</span> copy;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// .........................................................Machine.js</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">Machine</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">symbols</span> =[<span class="string">&quot;Dumplings&quot;</span>,<span class="string">&quot;Noodles&quot;</span>,<span class="string">&quot;Rice&quot;</span>,<span class="string">&quot;Photato&quot;</span>,<span class="string">&quot;Tomato&quot;</span>,<span class="string">&quot;Beef&quot;</span>,<span class="string">&quot;Pork&quot;</span>,<span class="string">&quot;Chiken&quot;</span>,<span class="string">&quot;Spicy&quot;</span>,<span class="string">&quot;Sushi&quot;</span>,<span class="string">&quot;BBQ&quot;</span>,<span class="string">&quot;Cabbagies&quot;</span>,<span class="string">&quot;Stephanie&quot;</span>,<span class="string">&quot;Aria&quot;</span>,<span class="string">&quot;movie&quot;</span>,<span class="string">&quot;mengcha&quot;</span>, <span class="string">&quot;Animation&quot;</span>];</span><br><span class="line">    <span class="comment">// Array of symbols for the machine</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">symbolSize</span> = <span class="number">25</span>; <span class="comment">// Size of each symbol</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">spacing</span> = <span class="variable language_">this</span>.<span class="property">symbolSize</span> * <span class="number">5.5</span>; <span class="comment">// Spacing between reels</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">winBarY</span> = height/<span class="number">2</span>; <span class="comment">// y-coordinate of the win bar</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">reels</span> = []; <span class="comment">// Array to hold the reel objects</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">startSpeed</span> = &#123;</span><br><span class="line">      <span class="attr">min</span>: <span class="number">20</span>,</span><br><span class="line">      <span class="attr">max</span>: <span class="number">30</span></span><br><span class="line">    &#125;; <span class="comment">// Range of initial spinning speeds for reels</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">deceleration</span> = &#123;</span><br><span class="line">      <span class="attr">min</span>: -<span class="number">0.05</span>,</span><br><span class="line">      <span class="attr">max</span>: -<span class="number">0.1</span></span><br><span class="line">    &#125;; <span class="comment">// Range of deceleration values for slowing down reels</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">stopDelay</span> = <span class="title function_">random</span>(<span class="number">90</span>, <span class="number">120</span>); <span class="comment">// Delay before the reels start to slow down</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">`stopped`</span>; <span class="comment">// State of the machine (stopped, spinning, stopping)</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">createReels</span>(<span class="variable language_">this</span>.<span class="property">reels</span>, width/<span class="number">2</span>, <span class="variable language_">this</span>.<span class="property">winBarY</span>); <span class="comment">// Create the reel objects</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">createReels</span>(<span class="params">reels, x, y</span>) &#123;</span><br><span class="line">    <span class="comment">// Create three reel objects and add them to the `reels` array</span></span><br><span class="line">    reels[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Reel</span>(<span class="variable language_">this</span>, x - <span class="variable language_">this</span>.<span class="property">spacing</span>, y, <span class="number">0</span>);</span><br><span class="line">    reels[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Reel</span>(<span class="variable language_">this</span>, x, y, <span class="number">1</span>);</span><br><span class="line">    reels[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">Reel</span>(<span class="variable language_">this</span>, x + <span class="variable language_">this</span>.<span class="property">spacing</span>, y, <span class="number">2</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">update</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// Update the state of the machine and display its current state</span></span><br><span class="line">    <span class="title function_">background</span>(<span class="number">255</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> (<span class="variable language_">this</span>.<span class="property">state</span>) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">`stopped`</span>:</span><br><span class="line">        <span class="comment">// Machine is stopped, do nothing</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">`spinning`</span>:</span><br><span class="line">        <span class="comment">// Machine is spinning, move the reels and check if they need to stop</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">moveReels</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">stopDelay</span>--;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">stopDelay</span> === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">`stopping`</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">`stopping`</span>:</span><br><span class="line">        <span class="comment">// Machine is slowing down, check the reels and continue moving them</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">checkReels</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">moveReels</span>();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">display</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">checkReels</span>(<span class="params">reels</span>) &#123;</span><br><span class="line">    <span class="comment">// Check if all reels have stopped spinning</span></span><br><span class="line">    <span class="keyword">let</span> allStopped = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">reels</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">let</span> reel = <span class="variable language_">this</span>.<span class="property">reels</span>[i];</span><br><span class="line">      <span class="keyword">if</span> (reel.<span class="property">speed</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        allStopped = <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">checkReel</span>(reel);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (allStopped) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">`stopped`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">checkReel</span>(<span class="params">reel</span>) &#123;</span><br><span class="line">    <span class="comment">// Check if a reel should stop spinning based on its current position</span></span><br><span class="line">    <span class="keyword">if</span> (reel.<span class="property">speed</span> === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> copyReel = reel.<span class="title function_">copy</span>();</span><br><span class="line">    <span class="keyword">while</span> (copyReel.<span class="property">speed</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      copyReel.<span class="property">ay</span> = copyReel.<span class="property">deceleration</span>;</span><br><span class="line">      copyReel.<span class="title function_">move</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (copyReel.<span class="property">reel</span>[copyReel.<span class="property">index</span>] === copyReel.<span class="property">target</span>) &#123;</span><br><span class="line">      <span class="comment">// The reel would stop on the target symbol</span></span><br><span class="line">      reel.<span class="title function_">stop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">moveReels</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// Move all the reels</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">reels</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">let</span> reel = <span class="variable language_">this</span>.<span class="property">reels</span>[i];</span><br><span class="line">      reel.<span class="title function_">move</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">display</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// Display all the reels and the scoring line</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">reels</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">let</span> reel = <span class="variable language_">this</span>.<span class="property">reels</span>[i];</span><br><span class="line">      reel.<span class="title function_">display</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Display the scoring line</span></span><br><span class="line">    <span class="title function_">push</span>();</span><br><span class="line">    <span class="title function_">strokeWeight</span>(<span class="number">5</span>);</span><br><span class="line">    <span class="title function_">stroke</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">100</span>);</span><br><span class="line">    <span class="comment">// line(0, this.winBarY, width, this.winBarY);</span></span><br><span class="line">    <span class="title function_">pop</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">spin</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// Start spinning the reels</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">stopDelay</span> = <span class="title function_">floor</span>(<span class="title function_">random</span>(<span class="number">90</span>,<span class="number">120</span>));</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">reels</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">reel</span> =&gt;</span> &#123;</span><br><span class="line">      reel.<span class="property">speed</span> = reel.<span class="title function_">randomReelSpeed</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">`spinning`</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">stop</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// Stop the reels from spinning</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = <span class="string">`slowing`</span>; <span class="comment">// It should be `stopping`, not `slowing`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="Reference-Links"><a href="#Reference-Links" class="headerlink" title="Reference Links"></a>Reference Links</h2><p><a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCvjgXvBlbQiydffZU7m1_aw">https://www.youtube.com/channel/UCvjgXvBlbQiydffZU7m1_aw</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://ariaranya.github.io/05.html" data-id="cliowbhxf000nnbovbisgcira" data-title="Creative Coding - AT3" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AT3/" rel="tag">AT3</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/19.html" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Creative Coding - AT2 April&#39;s loop</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AT2/" rel="tag">AT2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AT3/" rel="tag">AT3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Assignments-1-p5-Sketch-Banner-Design/" rel="tag">Assignments 1 p5 Sketch - Banner Design</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Practice/" rel="tag">Practice -</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Practice-Bouncing-balls/" rel="tag">Practice - Bouncing balls</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Practice-Bubble-2/" rel="tag">Practice - Bubble 2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Practice-Dots-pattern-with-background-colour-changes/" rel="tag">Practice - Dots pattern with background colour changes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Practice-Print-Pattern/" rel="tag">Practice - Print Pattern</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Practice-bubbles/" rel="tag">Practice - bubbles</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Practice-flow-filed/" rel="tag">Practice - flow filed</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Practice-rainning-day/" rel="tag">Practice - rainning day</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AT2/" style="font-size: 10px;">AT2</a> <a href="/tags/AT3/" style="font-size: 10px;">AT3</a> <a href="/tags/Assignments-1-p5-Sketch-Banner-Design/" style="font-size: 10px;">Assignments 1 p5 Sketch - Banner Design</a> <a href="/tags/Practice/" style="font-size: 10px;">Practice -</a> <a href="/tags/Practice-Bouncing-balls/" style="font-size: 10px;">Practice - Bouncing balls</a> <a href="/tags/Practice-Bubble-2/" style="font-size: 10px;">Practice - Bubble 2</a> <a href="/tags/Practice-Dots-pattern-with-background-colour-changes/" style="font-size: 10px;">Practice - Dots pattern with background colour changes</a> <a href="/tags/Practice-Print-Pattern/" style="font-size: 10px;">Practice - Print Pattern</a> <a href="/tags/Practice-bubbles/" style="font-size: 10px;">Practice - bubbles</a> <a href="/tags/Practice-flow-filed/" style="font-size: 10px;">Practice - flow filed</a> <a href="/tags/Practice-rainning-day/" style="font-size: 10px;">Practice - rainning day</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/05.html">Creative Coding - AT3</a>
          </li>
        
          <li>
            <a href="/19.html">Creative Coding - AT2 April&#39;s loop</a>
          </li>
        
          <li>
            <a href="/18%20copy.html">Creative Coding - Practice 7</a>
          </li>
        
          <li>
            <a href="/18.html">Creative Coding - Practice 8</a>
          </li>
        
          <li>
            <a href="/17.html">Creative Coding - Practice 6</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 Aria<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>